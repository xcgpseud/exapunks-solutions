; GO TO THE FIRST HOST
; WHICH HAS A NAME
; (TAPE-1)
@REP 3
LINK 800
@END

; GRAB THE HOST NAME
; WE ARE LOOKING FOR
; FROM XB
COPY M X

MARK CHECK
; STORE THE CURRENT
; HOST NAME IN T
HOST T

; IF THIS IS THE ONE
; FROM XB THEN MOVE ON
TEST T = X
TJMP GO

@REP 2
LINK 800
@END
JUMP CHECK

MARK GO
GRAB 200

; GRAB THE ENTRY FROM XB
COPY M X

; GO TO THE END OF THE
; FILE. WE WILL LOOK
; BACKWARDS BECAUSE
; THESE ENTRIES ARE
; ALWAYS IN THE LAST
; 75%-ISH OF THE FILE
SEEK 9999

MARK FIND
; ALWAYS GO BACK 2
; BECAUSE READING F
; MOVES 1 POINTER FWD
SEEK -2
TEST X = F
FJMP FIND

; ONCE WE FIND THE VALUE
; GRAB THE LOC TO JUMP
; TO IN X AND THE AMOUNT
; IN T, SO WE CAN TJMP
; WHILE IT'S > 0
COPY F X
COPY F T

SEEK -9999
SEEK X

MARK SEND
COPY F M
SUBI T 1 T

; THIS WILL NO LONGER
; JUMP WHEN T IS 0
TJMP SEND

; AND WE JUST DIE HERE
